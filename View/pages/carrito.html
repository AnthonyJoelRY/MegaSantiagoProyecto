<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MegaSantiago | Carrito</title>

  <!-- ✅ InfinityFree: rutas absolutas -->
  <link rel="stylesheet" href="/View/assets/css/estilos.css" />
  <link rel="stylesheet" href="/View/assets/css/overrides.css" />
</head>

<body>

  <!-- ===== LAYOUT ===== -->
  <div id="header"></div>
  <div id="nav"></div>
  <!-- ================== -->

  <!-- CONTENIDO CARRITO -->
  <main class="cart-page">
    <section class="cart-container">

      <h2>Resumen de tu carrito</h2>

      <div id="cart-vacio" class="cart-vacio">
        Tu carrito está vacío. Agrega productos desde la página principal.
      </div>

      <div id="cart-contenido" class="cart-contenido">
        <table class="cart-tabla">
          <thead>
            <tr>
              <th>Producto</th>
              <th>Precio unit.</th>
              <th>Cantidad</th>
              <th>Subtotal</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="tbodyCarrito"></tbody>
        </table>

        <div class="cart-footer">
          <button id="btnVaciar" class="btn-cart-secondary">Vaciar carrito</button>

          <div class="cart-total">
            <span>Total:</span>
            <strong id="totalCarrito">$0.00</strong>
          </div>
        </div>

        <div id="paypal-area" style="margin-top:12px;">
          <div id="paypal-button-container"></div>
          <p id="paypal-status" style="margin-top:10px;"></p>
        </div>
      </div>

    </section>
  </main>

  <!-- ===== FOOTER ===== -->
  <div id="footer"></div>
  <div id="scripts"></div>
  <!-- ================== -->

  <!-- ✅ Layout loader -->
  <script src="/View/assets/js/layout-loader.js"></script>

  <!-- ✅ (Opcional) si tu header usa contador -->
  <script src="/View/assets/js/carrito-ui.js"></script>

  <!-- ✅ Lógica del carrito -->
  <script src="/View/assets/js/pages/carrito.js"></script>

  <script>
    loadLayout().then(() => {
      window.initCarritoPage?.();

      // (Opcional) sesión usuario
      const s = document.createElement("script");
      s.src = "/View/assets/js/sesion-usuario.js";
      document.body.appendChild(s);
    });
  </script>

</body>
</html>
